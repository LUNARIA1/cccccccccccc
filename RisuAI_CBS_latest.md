# RisuAI CBS (Curly Brace Syntax) ì™„ì „ ê°€ì´ë“œ

> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-07  
> **ë²„ì „**: Latest (ì½”ë“œë² ì´ìŠ¤ ì§ì ‘ ë¶„ì„)

## ëª©ì°¨
1. [CBSë€ ë¬´ì—‡ì¸ê°€?](#cbsë€-ë¬´ì—‡ì¸ê°€)
2. [ê¸°ë³¸ ë¬¸ë²•](#ê¸°ë³¸-ë¬¸ë²•)
3. [CBS ì¹´í…Œê³ ë¦¬ë³„ í•¨ìˆ˜ ëª©ë¡](#cbs-ì¹´í…Œê³ ë¦¬ë³„-í•¨ìˆ˜-ëª©ë¡)
4. [ìƒì„¸ ë ˆí¼ëŸ°ìŠ¤](#ìƒì„¸-ë ˆí¼ëŸ°ìŠ¤)
5. [ì˜ˆì œ ë° í™œìš©ë²•](#ì˜ˆì œ-ë°-í™œìš©ë²•)

---

## CBSë€ ë¬´ì—‡ì¸ê°€?

**CBS (Curly Brace Syntax)**ëŠ” RisuAIì—ì„œ ì‚¬ìš©í•˜ëŠ” **í…œí”Œë¦¿ ë³€ìˆ˜ ì¹˜í™˜ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤. `{{ë³€ìˆ˜ëª…}}` í˜•ì‹ì˜ ì¤‘ê´„í˜¸ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¥¼ ì¹˜í™˜í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê¸°ë³¸ ì˜ˆì‹œ
```
{{char}}ê°€ {{user}}ì—ê²Œ ë§í–ˆë‹¤: "ì•ˆë…•í•˜ì„¸ìš”!"
```
ìœ„ ì½”ë“œëŠ” ì‹¤í–‰ ì‹œ:
```
Aliceê°€ Johnì—ê²Œ ë§í–ˆë‹¤: "ì•ˆë…•í•˜ì„¸ìš”!"
```
ë¡œ ë³€í™˜ë©ë‹ˆë‹¤ (ìºë¦­í„° ì´ë¦„ì´ Alice, ì‚¬ìš©ì ì´ë¦„ì´ Johnì¼ ê²½ìš°).

---

## ê¸°ë³¸ ë¬¸ë²•

### 1. ë‹¨ìˆœ ë³€ìˆ˜
```
{{ë³€ìˆ˜ëª…}}
```

### 2. ì¸ìê°€ ìˆëŠ” í•¨ìˆ˜
```
{{í•¨ìˆ˜ëª…::ì¸ì1::ì¸ì2::ì¸ì3}}
```
- ì¸ìëŠ” `::`(ë”ë¸” ì½œë¡ )ìœ¼ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤
- ì¼ë¶€ í•¨ìˆ˜ëŠ” ê°€ë³€ ì¸ìë¥¼ ì§€ì›í•©ë‹ˆë‹¤

### 3. ì¡°ê±´ë¬¸
```
{{#when ì¡°ê±´}}
  ì¡°ê±´ì´ ì°¸ì¼ ë•Œ í‘œì‹œë  ë‚´ìš©
{{:else}}
  ì¡°ê±´ì´ ê±°ì§“ì¼ ë•Œ í‘œì‹œë  ë‚´ìš©
{{/when}}
```

### 4. ë°˜ë³µë¬¸
```
{{#each ë°°ì—´ as í•­ëª©}}
  {{slot::í•­ëª©}}
{{/each}}
```

---

## CBS ì¹´í…Œê³ ë¦¬ë³„ í•¨ìˆ˜ ëª©ë¡

### ğŸ“Œ 1. ê¸°ë³¸ ìºë¦­í„°/ì‚¬ìš©ì ë³€ìˆ˜

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{char}}` | `{{bot}}` | í˜„ì¬ ìºë¦­í„°/ë´‡ì˜ ì´ë¦„ ë˜ëŠ” ë‹‰ë„¤ì„ ë°˜í™˜ | `{{char}}` â†’ "Alice" |
| `{{user}}` | - | í˜„ì¬ ì‚¬ìš©ìì˜ ì´ë¦„ ë°˜í™˜ | `{{user}}` â†’ "John" |
| `{{personality}}` | `{{charpersona}}` | ìºë¦­í„°ì˜ ì„±ê²© í•„ë“œ ë°˜í™˜ | `{{personality}}` |
| `{{description}}` | `{{chardesc}}` | ìºë¦­í„°ì˜ ì„¤ëª… í•„ë“œ ë°˜í™˜ | `{{description}}` |
| `{{scenario}}` | - | ìºë¦­í„°ì˜ ì‹œë‚˜ë¦¬ì˜¤ í•„ë“œ ë°˜í™˜ | `{{scenario}}` |
| `{{exampledialogue}}` | `{{examplemessage}}` | ìºë¦­í„°ì˜ ì˜ˆì‹œ ëŒ€í™” ë°˜í™˜ | `{{exampledialogue}}` |
| `{{persona}}` | `{{userpersona}}` | ì‚¬ìš©ì í˜ë¥´ì†Œë‚˜ í”„ë¡¬í”„íŠ¸ ë°˜í™˜ | `{{persona}}` |

### ğŸ“ 2. í”„ë¡¬í”„íŠ¸ ë° ì‹œìŠ¤í…œ

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{mainprompt}}` | `{{systemprompt}}` | ë©”ì¸ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë°˜í™˜ | `{{mainprompt}}` |
| `{{jb}}` | `{{jailbreak}}` | íƒˆì˜¥ í”„ë¡¬í”„íŠ¸ ë°˜í™˜ | `{{jb}}` |
| `{{globalnote}}` | `{{systemnote}}`, `{{ujb}}` | ê¸€ë¡œë²Œ ë…¸íŠ¸ ë°˜í™˜ | `{{globalnote}}` |
| `{{jbtoggled}}` | - | íƒˆì˜¥ì´ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ (1/0) | `{{jbtoggled}}` â†’ "1" |

### ğŸ’¬ 3. ì±„íŒ… íˆìŠ¤í† ë¦¬

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{history}}` | `{{messages}}` | ì±„íŒ… íˆìŠ¤í† ë¦¬ë¥¼ JSON ë°°ì—´ë¡œ ë°˜í™˜ | `{{history}}` |
| `{{history::role}}` | - | ì—­í•  ì ‘ë‘ì‚¬ì™€ í•¨ê»˜ íˆìŠ¤í† ë¦¬ ë°˜í™˜ | `{{history::role}}` |
| `{{previouscharchat}}` | `{{lastcharmessage}}` | ë§ˆì§€ë§‰ ìºë¦­í„° ë©”ì‹œì§€ ë°˜í™˜ | `{{previouscharchat}}` |
| `{{previoususerchat}}` | `{{lastusermessage}}` | ë§ˆì§€ë§‰ ì‚¬ìš©ì ë©”ì‹œì§€ ë°˜í™˜ | `{{previoususerchat}}` |
| `{{userhistory}}` | `{{usermessages}}` | ëª¨ë“  ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ JSON ë°°ì—´ë¡œ | `{{userhistory}}` |
| `{{charhistory}}` | `{{charmessages}}` | ëª¨ë“  ìºë¦­í„° ë©”ì‹œì§€ë¥¼ JSON ë°°ì—´ë¡œ | `{{charhistory}}` |
| `{{lastmessage}}` | - | ì±„íŒ…ì˜ ë§ˆì§€ë§‰ ë©”ì‹œì§€ ë‚´ìš© | `{{lastmessage}}` |
| `{{lastmessageid}}` | `{{lastmessageindex}}` | ë§ˆì§€ë§‰ ë©”ì‹œì§€ì˜ ì¸ë±ìŠ¤ | `{{lastmessageid}}` â†’ "42" |
| `{{previouschatlog::N}}` | - | ì¸ë±ìŠ¤ Nì˜ ë©”ì‹œì§€ ë‚´ìš© | `{{previouschatlog::5}}` |

### ğŸ”¢ 4. ì±„íŒ… ì¸ë±ìŠ¤ ë° ë©”íƒ€ë°ì´í„°

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{chatindex}}` | - | í˜„ì¬ ë©”ì‹œì§€ ì¸ë±ìŠ¤ | `{{chatindex}}` â†’ "10" |
| `{{firstmsgindex}}` | `{{firstmessageindex}}` | ì„ íƒëœ ì²« ë©”ì‹œì§€ ì¸ë±ìŠ¤ | `{{firstmsgindex}}` â†’ "-1" |
| `{{role}}` | - | í˜„ì¬ ë©”ì‹œì§€ì˜ ì—­í•  (user/char) | `{{role}}` â†’ "char" |
| `{{isfirstmsg}}` | - | ì²« ë©”ì‹œì§€ì¸ì§€ ì—¬ë¶€ (1/0) | `{{isfirstmsg}}` â†’ "1" |
| `{{trigger_id}}` | `{{triggerid}}` | íŠ¸ë¦¬ê±° ìš”ì†Œì˜ ID ê°’ | `{{trigger_id}}` |

### â° 5. ì‹œê°„ ë° ë‚ ì§œ

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{time}}` | - | í˜„ì¬ ë¡œì»¬ ì‹œê°„ (HH:MM:SS) | `{{time}}` â†’ "14:30:25" |
| `{{isotime}}` | - | í˜„ì¬ UTC ì‹œê°„ (HH:MM:SS) | `{{isotime}}` â†’ "05:30:25" |
| `{{date}}` | - | ë‚ ì§œ/ì‹œê°„ í¬ë§· (ì¸ì ì—†ìœ¼ë©´ YYYY-M-D) | `{{date}}` â†’ "2026-1-7" |
| `{{date::YYYY-MM-DD}}` | - | ì»¤ìŠ¤í…€ í¬ë§·ìœ¼ë¡œ ë‚ ì§œ ë°˜í™˜ | `{{date::YYYY-MM-DD}}` â†’ "2026-01-07" |
| `{{isodate}}` | - | í˜„ì¬ UTC ë‚ ì§œ (YYYY-M-D) | `{{isodate}}` â†’ "2026-1-7" |
| `{{unixtime}}` | - | í˜„ì¬ ìœ ë‹‰ìŠ¤ íƒ€ì„ìŠ¤íƒ¬í”„ (ì´ˆ) | `{{unixtime}}` â†’ "1704672000" |
| `{{messagetime}}` | - | í˜„ì¬ ë©”ì‹œì§€ì˜ ì „ì†¡ ì‹œê°„ | `{{messagetime}}` â†’ "14:30:25" |
| `{{messagedate}}` | - | í˜„ì¬ ë©”ì‹œì§€ì˜ ì „ì†¡ ë‚ ì§œ | `{{messagedate}}` â†’ "1/7/2026" |
| `{{messageunixtimearray}}` | - | ëª¨ë“  ë©”ì‹œì§€ íƒ€ì„ìŠ¤íƒ¬í”„ ë°°ì—´ | `{{messageunixtimearray}}` |
| `{{idleduration}}` | - | ë§ˆì§€ë§‰ ë©”ì‹œì§€ ì´í›„ ê²½ê³¼ ì‹œê°„ | `{{idleduration}}` â†’ "0:05:30" |
| `{{messageidleduration}}` | - | ì‚¬ìš©ì ë©”ì‹œì§€ ê°„ ê²½ê³¼ ì‹œê°„ | `{{messageidleduration}}` â†’ "0:10:15" |

### ğŸ”¤ 6. ë¬¸ìì—´ ì¡°ì‘

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{replace::í…ìŠ¤íŠ¸::ì°¾ì„ê²ƒ::ë°”ê¿€ê²ƒ}}` | - | ëª¨ë“  ì¼ì¹˜ í•­ëª© êµì²´ | `{{replace::Hello::l::L}}` â†’ "HeLLo" |
| `{{split::í…ìŠ¤íŠ¸::êµ¬ë¶„ì}}` | - | ë¬¸ìì—´ì„ ë°°ì—´ë¡œ ë¶„í•  | `{{split::a,b,c::,}}` â†’ ["a","b","c"] |
| `{{join::ë°°ì—´::êµ¬ë¶„ì}}` | - | ë°°ì—´ì„ ë¬¸ìì—´ë¡œ ê²°í•© | `{{join::["a","b"]::,}}` â†’ "a,b" |
| `{{trim::í…ìŠ¤íŠ¸}}` | - | ì¢Œìš° ê³µë°± ì œê±° | `{{trim::  hello  }}` â†’ "hello" |
| `{{length::í…ìŠ¤íŠ¸}}` | - | ë¬¸ìì—´ ê¸¸ì´ | `{{length::Hello}}` â†’ "5" |
| `{{lower::í…ìŠ¤íŠ¸}}` | - | ì†Œë¬¸ìë¡œ ë³€í™˜ | `{{lower::HELLO}}` â†’ "hello" |
| `{{upper::í…ìŠ¤íŠ¸}}` | - | ëŒ€ë¬¸ìë¡œ ë³€í™˜ | `{{upper::hello}}` â†’ "HELLO" |
| `{{capitalize::í…ìŠ¤íŠ¸}}` | - | ì²« ê¸€ìë§Œ ëŒ€ë¬¸ì | `{{capitalize::hello}}` â†’ "Hello" |
| `{{startswith::í…ìŠ¤íŠ¸::ì ‘ë‘ì‚¬}}` | - | ë¬¸ìì—´ì´ ì ‘ë‘ì‚¬ë¡œ ì‹œì‘í•˜ëŠ”ì§€ (1/0) | `{{startswith::hello::he}}` â†’ "1" |
| `{{endswith::í…ìŠ¤íŠ¸::ì ‘ë¯¸ì‚¬}}` | - | ë¬¸ìì—´ì´ ì ‘ë¯¸ì‚¬ë¡œ ëë‚˜ëŠ”ì§€ (1/0) | `{{endswith::hello::lo}}` â†’ "1" |
| `{{contains::í…ìŠ¤íŠ¸::ë¶€ë¶„ë¬¸ìì—´}}` | - | ë¶€ë¶„ë¬¸ìì—´ í¬í•¨ ì—¬ë¶€ (1/0) | `{{contains::hello::ell}}` â†’ "1" |
| `{{reverse::í…ìŠ¤íŠ¸}}` | - | ë¬¸ìì—´ ë’¤ì§‘ê¸° | `{{reverse::hello}}` â†’ "olleh" |

### ğŸ”¢ 7. ìˆ˜í•™ ë° ê³„ì‚°

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{calc::ìˆ˜ì‹}}` | - | ìˆ˜í•™ ìˆ˜ì‹ ê³„ì‚° | `{{calc::2+2*3}}` â†’ "8" |
| `{{?::ìˆ˜ì‹}}` | - | ìˆ˜í•™ ì—°ì‚° (ë¹„êµ ì—°ì‚° í¬í•¨) | `{{?::1+2}}` â†’ "3" |
| `{{round::ìˆ«ì}}` | - | ë°˜ì˜¬ë¦¼ | `{{round::3.7}}` â†’ "4" |
| `{{floor::ìˆ«ì}}` | - | ë‚´ë¦¼ | `{{floor::3.9}}` â†’ "3" |
| `{{ceil::ìˆ«ì}}` | - | ì˜¬ë¦¼ | `{{ceil::3.1}}` â†’ "4" |
| `{{abs::ìˆ«ì}}` | - | ì ˆëŒ€ê°’ | `{{abs::-5}}` â†’ "5" |
| `{{pow::ë°‘::ì§€ìˆ˜}}` | - | ê±°ë“­ì œê³± | `{{pow::2::3}}` â†’ "8" |
| `{{remaind::ìˆ«ì::ë‚˜ëˆ„ëŠ”ìˆ˜}}` | - | ë‚˜ë¨¸ì§€ (ëª¨ë“ˆë¡œ) | `{{remaind::10::3}}` â†’ "1" |
| `{{fixnum::ìˆ«ì::ì†Œìˆ˜ìë¦¿ìˆ˜}}` | - | ì†Œìˆ˜ì  ìë¦¿ìˆ˜ ê³ ì • | `{{fixnum::3.14159::2}}` â†’ "3.14" |
| `{{tonumber::í…ìŠ¤íŠ¸}}` | - | ìˆ«ìë§Œ ì¶”ì¶œ | `{{tonumber::abc123.45}}` â†’ "123.45" |
| `{{min::ê°’1::ê°’2::...}}` | - | ìµœì†Ÿê°’ | `{{min::5::2::8}}` â†’ "2" |
| `{{max::ê°’1::ê°’2::...}}` | - | ìµœëŒ“ê°’ | `{{max::5::2::8}}` â†’ "8" |
| `{{sum::ê°’1::ê°’2::...}}` | - | í•©ê³„ | `{{sum::1::2::3}}` â†’ "6" |
| `{{average::ê°’1::ê°’2::...}}` | - | í‰ê·  | `{{average::2::4::6}}` â†’ "4" |

### âš–ï¸ 8. ë¹„êµ ë° ë…¼ë¦¬ ì—°ì‚°

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{equal::A::B}}` | - | Aì™€ Bê°€ ë™ì¼í•œì§€ (1/0) | `{{equal::hello::hello}}` â†’ "1" |
| `{{notequal::A::B}}` | `{{not_equal}}` | Aì™€ Bê°€ ë‹¤ë¥¸ì§€ (1/0) | `{{notequal::a::b}}` â†’ "1" |
| `{{greater::A::B}}` | - | Aê°€ Bë³´ë‹¤ í°ì§€ (1/0) | `{{greater::10::5}}` â†’ "1" |
| `{{less::A::B}}` | - | Aê°€ Bë³´ë‹¤ ì‘ì€ì§€ (1/0) | `{{less::5::10}}` â†’ "1" |
| `{{greaterequal::A::B}}` | `{{greater_equal}}` | Aê°€ B ì´ìƒì¸ì§€ (1/0) | `{{greaterequal::10::10}}` â†’ "1" |
| `{{lessequal::A::B}}` | `{{less_equal}}` | Aê°€ B ì´í•˜ì¸ì§€ (1/0) | `{{lessequal::5::5}}` â†’ "1" |
| `{{and::A::B}}` | - | ë…¼ë¦¬ AND | `{{and::1::1}}` â†’ "1" |
| `{{or::A::B}}` | - | ë…¼ë¦¬ OR | `{{or::1::0}}` â†’ "1" |
| `{{not::A}}` | - | ë…¼ë¦¬ NOT | `{{not::1}}` â†’ "0" |
| `{{all::ê°’1::ê°’2::...}}` | - | ëª¨ë‘ 1ì¸ì§€ í™•ì¸ | `{{all::1::1::1}}` â†’ "1" |
| `{{any::ê°’1::ê°’2::...}}` | - | í•˜ë‚˜ë¼ë„ 1ì¸ì§€ í™•ì¸ | `{{any::0::1::0}}` â†’ "1" |

### ğŸ“¦ 9. ë°°ì—´ ì¡°ì‘

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{makearray::A::B::C}}` | `{{array}}`, `{{a}}` | ë°°ì—´ ìƒì„± | `{{makearray::a::b::c}}` â†’ ["a","b","c"] |
| `{{arraylength::ë°°ì—´}}` | - | ë°°ì—´ ê¸¸ì´ | `{{arraylength::["a","b"]}}` â†’ "2" |
| `{{arrayelement::ë°°ì—´::ì¸ë±ìŠ¤}}` | - | ë°°ì—´ ìš”ì†Œ ì ‘ê·¼ | `{{arrayelement::["a","b"]::1}}` â†’ "b" |
| `{{arraypush::ë°°ì—´::ìš”ì†Œ}}` | - | ë°°ì—´ ëì— ì¶”ê°€ | `{{arraypush::["a"]::b}}` â†’ ["a","b"] |
| `{{arraypop::ë°°ì—´}}` | - | ë°°ì—´ ë§ˆì§€ë§‰ ìš”ì†Œ ì œê±° | `{{arraypop::["a","b"]}}` â†’ ["a"] |
| `{{arrayshift::ë°°ì—´}}` | - | ë°°ì—´ ì²« ìš”ì†Œ ì œê±° | `{{arrayshift::["a","b"]}}` â†’ ["b"] |
| `{{arraysplice::ë°°ì—´::ì‹œì‘::ê°¯ìˆ˜::ì¶”ê°€}}` | - | ë°°ì—´ ìš”ì†Œ êµì²´ | `{{arraysplice::["a","b"]::1::1::x}}` â†’ ["a","x"] |
| `{{arrayassert::ë°°ì—´::ì¸ë±ìŠ¤::ê°’}}` | - | ì¸ë±ìŠ¤ê°€ ë²”ìœ„ ë°–ì¼ ë•Œ ì„¤ì • | `{{arrayassert::["a"]::5::b}}` |
| `{{spread::ë°°ì—´}}` | - | ë°°ì—´ì„ ::ë¡œ ê²°í•© | `{{spread::["a","b"]}}` â†’ "a::b" |
| `{{filter::ë°°ì—´::íƒ€ì…}}` | - | ë°°ì—´ í•„í„°ë§ (all/nonempty/unique) | `{{filter::["a","","a"]::unique}}` â†’ ["a",""] |
| `{{range::[N]}}` | - | 0ë¶€í„° N-1ê¹Œì§€ ë°°ì—´ | `{{range::[5]}}` â†’ [0,1,2,3,4] |
| `{{range::[ì‹œì‘,ë,ê°„ê²©]}}` | - | ë²”ìœ„ ë°°ì—´ ìƒì„± | `{{range::[2,8,2]}}` â†’ [2,4,6] |

### ğŸ—‚ï¸ 10. ê°ì²´/ë”•ì…”ë„ˆë¦¬ ì¡°ì‘

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{makedict::í‚¤1=ê°’1::í‚¤2=ê°’2}}` | `{{dict}}`, `{{d}}`, `{{object}}`, `{{o}}` | ê°ì²´ ìƒì„± | `{{makedict::name=John::age=25}}` â†’ {"name":"John","age":"25"} |
| `{{dictelement::ê°ì²´::í‚¤}}` | `{{objectelement}}` | ê°ì²´ ê°’ ì ‘ê·¼ | `{{dictelement::{"name":"John"}::name}}` â†’ "John" |
| `{{objectassert::ê°ì²´::í‚¤::ê°’}}` | `{{dictassert}}` | í‚¤ê°€ ì—†ì„ ë•Œë§Œ ì„¤ì • | `{{objectassert::{"a":1}::b::2}}` â†’ {"a":1,"b":2} |
| `{{element::JSON::í‚¤1::í‚¤2...}}` | `{{ele}}` | ì¤‘ì²© ìš”ì†Œ ì ‘ê·¼ | `{{element::{"user":{"name":"John"}}::user::name}}` â†’ "John" |

### ğŸ’¾ 11. ë³€ìˆ˜ ê´€ë¦¬

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{getvar::ë³€ìˆ˜ëª…}}` | - | ì±„íŒ… ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸° | `{{getvar::counter}}` |
| `{{setvar::ë³€ìˆ˜ëª…::ê°’}}` | - | ì±„íŒ… ë³€ìˆ˜ ì„¤ì • | `{{setvar::counter::5}}` |
| `{{addvar::ë³€ìˆ˜ëª…::ê°’}}` | - | ì±„íŒ… ë³€ìˆ˜ì— ìˆ«ì ë”í•˜ê¸° | `{{addvar::counter::1}}` |
| `{{setdefaultvar::ë³€ìˆ˜ëª…::ê°’}}` | - | ë³€ìˆ˜ê°€ ì—†ì„ ë•Œë§Œ ì„¤ì • | `{{setdefaultvar::count::0}}` |
| `{{getglobalvar::ë³€ìˆ˜ëª…}}` | - | ê¸€ë¡œë²Œ ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸° | `{{getglobalvar::global_count}}` |
| `{{tempvar::ë³€ìˆ˜ëª…}}` | `{{gettempvar}}` | ì„ì‹œ ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸° | `{{tempvar::temp}}` |
| `{{settempvar::ë³€ìˆ˜ëª…::ê°’}}` | - | ì„ì‹œ ë³€ìˆ˜ ì„¤ì • | `{{settempvar::temp::value}}` |
| `{{return::ê°’}}` | - | ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°’ ë°˜í™˜ | `{{return::result}}` |

### ğŸ² 12. ëœë¤ ë° í•´ì‹œ

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{random}}` | - | 0-1 ì‚¬ì´ ë‚œìˆ˜ | `{{random}}` â†’ "0.7234" |
| `{{random::A,B,C}}` | - | ëœë¤ ì„ íƒ | `{{random::apple,banana,cherry}}` â†’ "banana" |
| `{{random::A::B::C}}` | - | ëœë¤ ì¸ì ì„ íƒ | `{{random::yes::no::maybe}}` â†’ "no" |
| `{{pick::A,B,C}}` | - | í•´ì‹œ ê¸°ë°˜ ëœë¤ ì„ íƒ (ì¼ê´€ì„±) | `{{pick::a,b,c}}` â†’ "b" |
| `{{randint::ìµœì†Œ::ìµœëŒ€}}` | - | ë²”ìœ„ ë‚´ ëœë¤ ì •ìˆ˜ | `{{randint::1::10}}` â†’ "7" |
| `{{dice::XdY}}` | - | ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° | `{{dice::2d6}}` â†’ "9" |
| `{{roll::XdY}}` | - | ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° (ê¸°ë³¸ 1d6) | `{{roll::20}}` â†’ "15" |
| `{{rollp::XdY}}` | - | í•´ì‹œ ê¸°ë°˜ ì£¼ì‚¬ìœ„ (ì¼ê´€ì„±) | `{{rollp::2d6}}` â†’ "7" |
| `{{hash::ë¬¸ìì—´}}` | - | ë¬¸ìì—´ í•´ì‹œ (7ìë¦¬ ìˆ«ì) | `{{hash::hello}}` â†’ "1234567" |

### ğŸ” 13. ì•”í˜¸í™”/ì¸ì½”ë”©

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{xor::í…ìŠ¤íŠ¸}}` | `{{xorencrypt}}`, `{{xore}}` | XOR ì•”í˜¸í™” (base64) | `{{xor::hello}}` |
| `{{xordecrypt::ì•”í˜¸ë¬¸}}` | `{{xordecode}}`, `{{xord}}` | XOR ë³µí˜¸í™” | `{{xordecrypt::base64}}` |
| `{{crypt::í…ìŠ¤íŠ¸}}` | `{{encrypt}}`, `{{decrypt}}`, `{{caesar}}` | ì‹œì € ì•”í˜¸ (ê¸°ë³¸ 32768) | `{{crypt::hello}}` |
| `{{crypt::í…ìŠ¤íŠ¸::ì‰¬í”„íŠ¸ê°’}}` | - | ì»¤ìŠ¤í…€ ì‰¬í”„íŠ¸ ì‹œì € ì•”í˜¸ | `{{crypt::hello::1000}}` |
| `{{unicodeencode::ë¬¸ì::ì¸ë±ìŠ¤}}` | - | ìœ ë‹ˆì½”ë“œ ì½”ë“œ í¬ì¸íŠ¸ | `{{unicodeencode::A}}` â†’ "65" |
| `{{unicodedecode::ì½”ë“œ}}` | - | ì½”ë“œë¥¼ ë¬¸ìë¡œ ë³€í™˜ | `{{unicodedecode::65}}` â†’ "A" |
| `{{u::16ì§„ìˆ˜}}` | - | 16ì§„ìˆ˜ ìœ ë‹ˆì½”ë“œë¥¼ ë¬¸ìë¡œ | `{{u::41}}` â†’ "A" |
| `{{fromhex::16ì§„ìˆ˜}}` | - | 16ì§„ìˆ˜ë¥¼ 10ì§„ìˆ˜ë¡œ | `{{fromhex::FF}}` â†’ "255" |
| `{{tohex::10ì§„ìˆ˜}}` | - | 10ì§„ìˆ˜ë¥¼ 16ì§„ìˆ˜ë¡œ | `{{tohex::255}}` â†’ "ff" |

### ğŸ¨ 14. UI ë° ë””ìŠ¤í”Œë ˆì´

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{button::í…ìŠ¤íŠ¸::íŠ¸ë¦¬ê±°}}` | - | ë²„íŠ¼ ìƒì„± | `{{button::Click Me::do_something}}` |
| `{{risu}}` | - | RisuAI ë¡œê³  í‘œì‹œ (45px) | `{{risu}}` |
| `{{risu::í¬ê¸°}}` | - | ë¡œê³  í¬ê¸° ì§€ì • | `{{risu::60}}` |
| `{{br}}` | `{{newline}}` | ì¤„ë°”ê¿ˆ ë¬¸ì | `{{br}}` â†’ "\n" |
| `{{cbr}}` | `{{cnl}}` | ì´ìŠ¤ì¼€ì´í”„ëœ ì¤„ë°”ê¿ˆ | `{{cbr}}` â†’ "\\n" |
| `{{cbr::N}}` | - | Nê°œ ë°˜ë³µ | `{{cbr::3}}` |
| `{{emotion::ì´ë¦„}}` | - | ê°ì • ì´ë¯¸ì§€ í‘œì‹œ | `{{emotion::happy}}` |
| `{{asset::ì´ë¦„}}` | - | ì—ì…‹ í‘œì‹œ | `{{asset::background1}}` |
| `{{image::ì´ë¦„}}` | - | ì´ë¯¸ì§€ í‘œì‹œ | `{{image::pic1}}` |
| `{{audio::ì´ë¦„}}` | - | ì˜¤ë””ì˜¤ ì¬ìƒ | `{{audio::bgm}}` |
| `{{video::ì´ë¦„}}` | - | ë¹„ë””ì˜¤ í‘œì‹œ | `{{video::intro}}` |
| `{{bg::ì´ë¦„}}` | - | ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì • | `{{bg::forest}}` |
| `{{comment::í…ìŠ¤íŠ¸}}` | - | í‘œì‹œë˜ëŠ” ì£¼ì„ | `{{comment::This is a comment}}` |
| `{{tex::ìˆ˜ì‹}}` | `{{latex}}`, `{{katex}}` | LaTeX ìˆ˜ì‹ ë Œë”ë§ | `{{tex::E=mc^2}}` |
| `{{ruby::ë³¸ë¬¸::ë£¨ë¹„}}` | `{{furigana}}` | ë£¨ë¹„ í…ìŠ¤íŠ¸ (í›„ë¦¬ê°€ë‚˜) | `{{ruby::æ¼¢å­—::ã‹ã‚“ã˜}}` |
| `{{codeblock::ì½”ë“œ}}` | - | ì½”ë“œ ë¸”ë¡ í‘œì‹œ | `{{codeblock::console.log("hi")}}` |
| `{{codeblock::ì–¸ì–´::ì½”ë“œ}}` | - | ì–¸ì–´ ì§€ì • ì½”ë“œ ë¸”ë¡ | `{{codeblock::js::console.log("hi")}}` |

### ğŸ“š 15. ë¡œì–´ë¶ ë° ëª¨ë“ˆ

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{lorebook}}` | `{{worldinfo}}` | í™œì„± ë¡œì–´ë¶ JSON ë°°ì—´ | `{{lorebook}}` |
| `{{moduleenabled::ë„¤ì„ìŠ¤í˜ì´ìŠ¤}}` | - | ëª¨ë“ˆ í™œì„±í™” ì—¬ë¶€ (1/0) | `{{moduleenabled::mymod}}` â†’ "1" |
| `{{moduleassetlist::ë„¤ì„ìŠ¤í˜ì´ìŠ¤}}` | - | ëª¨ë“ˆ ì—ì…‹ ëª©ë¡ | `{{moduleassetlist::mymod}}` |
| `{{emotionlist}}` | - | ê°ì • ì´ë¯¸ì§€ ëª©ë¡ | `{{emotionlist}}` |
| `{{assetlist}}` | - | ìºë¦­í„° ì—ì…‹ ëª©ë¡ | `{{assetlist}}` |
| `{{chardisplayasset}}` | - | í‘œì‹œ ì—ì…‹ ëª©ë¡ (í•„í„°ë§) | `{{chardisplayasset}}` |

### âš™ï¸ 16. ì‹œìŠ¤í…œ ë° ë©”íƒ€ë°ì´í„°

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{model}}` | - | í˜„ì¬ AI ëª¨ë¸ ID | `{{model}}` â†’ "gpt-4" |
| `{{axmodel}}` | - | ì„œë¸Œ ëª¨ë¸ ID | `{{axmodel}}` |
| `{{maxcontext}}` | - | ìµœëŒ€ ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´ | `{{maxcontext}}` â†’ "8192" |
| `{{metadata::í‚¤}}` | - | ì‹œìŠ¤í…œ ë©”íƒ€ë°ì´í„° | `{{metadata::version}}` â†’ "1.95" |
| `{{metadata::mobile}}` | - | ëª¨ë°”ì¼ ì—¬ë¶€ (1/0) | `{{metadata::mobile}}` â†’ "0" |
| `{{metadata::local}}` | - | ë¡œì»¬ ì•± ì—¬ë¶€ (1/0) | `{{metadata::local}}` â†’ "1" |
| `{{metadata::language}}` | - | ì„¤ì • ì–¸ì–´ | `{{metadata::language}}` â†’ "ko" |
| `{{metadata::modelname}}` | - | ëª¨ë¸ ì „ì²´ ì´ë¦„ | `{{metadata::modelname}}` â†’ "GPT-4" |
| `{{prefillsupported}}` | - | í”„ë¦¬í•„ ì§€ì› ì—¬ë¶€ (1/0) | `{{prefillsupported}}` â†’ "1" |
| `{{screenwidth}}` | - | í™”ë©´ ë„ˆë¹„ (í”½ì…€) | `{{screenwidth}}` â†’ "1920" |
| `{{screenheight}}` | - | í™”ë©´ ë†’ì´ (í”½ì…€) | `{{screenheight}}` â†’ "1080" |
| `{{iserror::í…ìŠ¤íŠ¸}}` | - | ì—ëŸ¬ ë©”ì‹œì§€ì¸ì§€ í™•ì¸ (1/0) | `{{iserror::Error: failed}}` â†’ "1" |

### ğŸ”§ 17. íŠ¹ìˆ˜ ê¸°ëŠ¥

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{blank}}` | `{{none}}` | ë¹ˆ ë¬¸ìì—´ ë°˜í™˜ | `{{blank}}` â†’ "" |
| `{{file::íŒŒì¼ëª…::base64}}` | - | íŒŒì¼ í‘œì‹œ/ë””ì½”ë”© | `{{file::doc.txt::base64data}}` |
| `{{hiddenkey::í‚¤}}` | - | ë¡œì–´ë¶ í™œì„±í™” ìˆ¨ì€ í‚¤ | `{{hiddenkey::secret}}` |
| `{{bkspc}}` | - | ë§ˆì§€ë§‰ ë‹¨ì–´ ë°±ìŠ¤í˜ì´ìŠ¤ | `hello world {{bkspc}}` â†’ "hello" |
| `{{erase}}` | - | ë§ˆì§€ë§‰ ë¬¸ì¥ ì‚­ì œ | `Hi. Bye. {{erase}}` â†’ "Hi." |
| `{{position::ì´ë¦„}}` | - | ìœ„ì¹˜ ì •ì˜ | `{{position::top}}` |
| `{{source::user}}` | - | ì‚¬ìš©ì í”„ë¡œí•„ URL | `{{source::user}}` |
| `{{source::char}}` | - | ìºë¦­í„° í”„ë¡œí•„ URL | `{{source::char}}` |

### ğŸ”£ 18. ì´ìŠ¤ì¼€ì´í”„ ë¬¸ì

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì¶œë ¥ |
|--------|-------|------|------|
| `{{decbo}}` | - | í‘œì‹œìš© { | { |
| `{{decbc}}` | - | í‘œì‹œìš© } | } |
| `{{bo}}` | `{{ddecbo}}` | í‘œì‹œìš© {{ | {{ |
| `{{bc}}` | `{{ddecbc}}` | í‘œì‹œìš© }} | }} |
| `{{(}}` | `{{debo}}` | í‘œì‹œìš© ( | ( |
| `{{)}}` | `{{debc}}` | í‘œì‹œìš© ) | ) |
| `{{<}}` | `{{deabo}}` | í‘œì‹œìš© < | < |
| `{{>}}` | `{{deabc}}` | í‘œì‹œìš© > | > |
| `{{:}}` | `{{dec}}` | í‘œì‹œìš© : | : |
| `{{;}}` | - | í‘œì‹œìš© ; | ; |

### ğŸ”€ 19. ì œì–´ êµ¬ì¡°

| í•¨ìˆ˜ëª… | Alias | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|-------|------|-----------|
| `{{#when ì¡°ê±´}}...{{/when}}` | - | ê¸°ë³¸ ì¡°ê±´ë¬¸ | `{{#when 1}}ì°¸{{/when}}` |
| `{{#when::A::and::B}}` | - | AND ì¡°ê±´ | `{{#when::1::and::1}}ì°¸{{/when}}` |
| `{{#when::A::or::B}}` | - | OR ì¡°ê±´ | `{{#when::1::or::0}}ì°¸{{/when}}` |
| `{{#when::A::is::B}}` | - | ê°™ìŒ ë¹„êµ | `{{#when::5::is::5}}ì°¸{{/when}}` |
| `{{#when::A::isnot::B}}` | - | ë‹¤ë¦„ ë¹„êµ | `{{#when::a::isnot::b}}ì°¸{{/when}}` |
| `{{#when::A::>::B}}` | - | í¬ë‹¤ ë¹„êµ | `{{#when::10::>::5}}ì°¸{{/when}}` |
| `{{#when::A::<::B}}` | - | ì‘ë‹¤ ë¹„êµ | `{{#when::5::<::10}}ì°¸{{/when}}` |
| `{{#when::not::A}}` | - | NOT ì¡°ê±´ | `{{#when::not::0}}ì°¸{{/when}}` |
| `{{:else}}` | - | Else ì ˆ | `{{#when 0}}{{:else}}ê±°ì§“{{/when}}` |
| `{{#each ë°°ì—´ as ë³€ìˆ˜}}` | - | ë°°ì—´ ë°˜ë³µ | `{{#each items as item}}{{slot::item}}{{/each}}` |
| `{{#puredisplay}}...{{/puredisplay}}` | - | CBS íŒŒì‹± ì—†ì´ í‘œì‹œ | `{{#puredisplay}}{{char}}{{/puredisplay}}` â†’ "{{char}}" |
| `{{//::ì£¼ì„}}` | - | ì£¼ì„ (í‘œì‹œ ì•ˆë¨) | `{{//::ì´ê±´ ì£¼ì„}}` |
| `{{slot}}` | - | ìŠ¬ë¡¯ ì ‘ê·¼ | `{{slot}}` |
| `{{slot::ì†ì„±}}` | - | ìŠ¬ë¡¯ ì†ì„± ì ‘ê·¼ | `{{slot::value}}` |

---

## ìƒì„¸ ë ˆí¼ëŸ°ìŠ¤

### #when ì¡°ê±´ë¬¸ ì—°ì‚°ì

`{{#when}}`ì€ RisuAIì—ì„œ ê°€ì¥ ê°•ë ¥í•œ ì¡°ê±´ë¬¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.

#### ê¸°ë³¸ ì‚¬ìš©ë²•
```
{{#when ì¡°ê±´}}
  ì¡°ê±´ì´ ì°¸ì¼ ë•Œ
{{:else}}
  ì¡°ê±´ì´ ê±°ì§“ì¼ ë•Œ
{{/when}}
```

#### ë¹„êµ ì—°ì‚°ì
- `::is::` - ê°™ìŒ (==)
- `::isnot::` - ë‹¤ë¦„ (!=)
- `::>::` - í¬ë‹¤ (>)
- `::<::` - ì‘ë‹¤ (<)
- `::>=::` - í¬ê±°ë‚˜ ê°™ë‹¤ (>=)
- `::<=::` - ì‘ê±°ë‚˜ ê°™ë‹¤ (<=)

#### ë…¼ë¦¬ ì—°ì‚°ì
- `::and::` - AND
- `::or::` - OR
- `::not::` - NOT

#### ê³ ê¸‰ ì—°ì‚°ì
- `::keep::` - ê³µë°± ìœ ì§€
- `::legacy::` - ë ˆê±°ì‹œ ê³µë°± ì²˜ë¦¬
- `::var::` - ë³€ìˆ˜ê°€ truthyì¸ì§€ í™•ì¸
- `::toggle::` - í† ê¸€ í™œì„±í™” í™•ì¸

#### ì˜ˆì‹œ
```
{{#when::{{getvar::score}}::>::50}}
  ì ìˆ˜ê°€ 50 ì´ìƒì…ë‹ˆë‹¤!
{{:else}}
  ì ìˆ˜ê°€ 50 ë¯¸ë§Œì…ë‹ˆë‹¤.
{{/when}}

{{#when::{{equal::{{user}}::Admin}}::and::{{jbtoggled}}}}
  ê´€ë¦¬ìì´ê³  íƒˆì˜¥ì´ í™œì„±í™”ë¨
{{/when}}
```

### #each ë°˜ë³µë¬¸

ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ê° ìš”ì†Œì— ëŒ€í•´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

```
{{#each {{userhistory}} as message}}
  ë©”ì‹œì§€: {{slot::message}}
{{/each}}
```

#### keep ì—°ì‚°ìì™€ í•¨ê»˜
```
{{#each::keep myArray as item}}
  {{slot::item}}
{{/each}}
```

### ì¤‘ì²© êµ¬ì¡° ì˜ˆì‹œ

```
{{#when::{{getvar::mode}}::is::debug}}
  ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™”
  {{#each {{lorebook}} as entry}}
    ë¡œì–´: {{slot::entry}}
  {{/each}}
{{:else}}
  ì¼ë°˜ ëª¨ë“œ
{{/when}}
```

---

## ì˜ˆì œ ë° í™œìš©ë²•

### ì˜ˆì œ 1: ë™ì  ì¸ì‚¬ë§
```
{{#when::{{time}}::<::12}}
  ì¢‹ì€ ì•„ì¹¨ì…ë‹ˆë‹¤, {{user}}!
{{:else}}
  {{#when::{{time}}::<::18}}
    ì•ˆë…•í•˜ì„¸ìš”, {{user}}!
  {{:else}}
    ì¢‹ì€ ì €ë…ì…ë‹ˆë‹¤, {{user}}!
  {{/when}}
{{/when}}
```

### ì˜ˆì œ 2: ëœë¤ ë°˜ì‘
```
{{char}}ëŠ” {{random::ì›ƒìœ¼ë©°,ë¯¸ì†Œ ì§€ìœ¼ë©°,ë†€ë¼ë©°,ê¸°ë»í•˜ë©°}} ë§í–ˆë‹¤: "{{random::ì•ˆë…•!,ë°˜ê°€ì›Œ!,ì–´ì„œì™€!}}"
```

### ì˜ˆì œ 3: ì¹´ìš´í„° ì‹œìŠ¤í…œ
```
{{setdefaultvar::visit_count::0}}
{{addvar::visit_count::1}}
ë°©ë¬¸ íšŸìˆ˜: {{getvar::visit_count}}íšŒ

{{#when::{{getvar::visit_count}}::>::10}}
  ì™€, ë²Œì¨ {{getvar::visit_count}}ë²ˆì§¸ ë°©ë¬¸ì´ì‹œë„¤ìš”!
{{/when}}
```

### ì˜ˆì œ 4: ë³µì¡í•œ í”„ë¡œí•„ í‘œì‹œ
```
ìºë¦­í„° í”„ë¡œí•„:
---
ì´ë¦„: {{char}}
ì„±ê²©: {{personality}}
ì‹œë‚˜ë¦¬ì˜¤: {{scenario}}

{{#when::{{emotionlist}}}}
ì‚¬ìš© ê°€ëŠ¥í•œ ê°ì •:
{{#each {{emotionlist}} as emotion}}
  - {{slot::emotion}}
{{/each}}
{{/when}}
```

### ì˜ˆì œ 5: ì¡°ê±´ë¶€ UI
```
{{#when::{{metadata::mobile}}::is::1}}
  {{button::ëª¨ë°”ì¼ ë²„ì „::switch_to_mobile}}
{{:else}}
  {{button::ë°ìŠ¤í¬í†± ë²„ì „::switch_to_desktop}}
{{/when}}

í˜„ì¬ í™”ë©´: {{screenwidth}}x{{screenheight}}
```

### ì˜ˆì œ 6: ì£¼ì‚¬ìœ„ ê²Œì„
```
{{char}}: "ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¤ë³¼ê¹Œ?"
{{setvar::dice_roll::{{dice::2d6}}}}
ê²°ê³¼: {{getvar::dice_roll}}

{{#when::{{getvar::dice_roll}}::>::10}}
  í¬ë¦¬í‹°ì»¬ ì„±ê³µ!
{{:else}}
  {{#when::{{getvar::dice_roll}}::<::4}}
    í¬ë¦¬í‹°ì»¬ ì‹¤íŒ¨!
  {{:else}}
    ì¼ë°˜ ê²°ê³¼
  {{/when}}
{{/when}}
```

### ì˜ˆì œ 7: ì±„íŒ… í†µê³„
```
ì´ ë©”ì‹œì§€ ìˆ˜: {{lastmessageid}}
ë§ˆì§€ë§‰ í™œë™: {{idleduration}} ì „

{{#when::{{arraylength::{{userhistory}}}}::>::{{arraylength::{{charhistory}}}}}}
  {{user}}ê°€ ë” ë§ì´ ë§í–ˆë„¤ìš”!
{{:else}}
  {{char}}ê°€ ë” ìˆ˜ë‹¤ìŠ¤ëŸ¬ì›Œìš”!
{{/when}}
```

### ì˜ˆì œ 8: ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ…
```
í˜„ì¬ ì‹œê°: {{date::YYYYë…„ MMì›” DDì¼ HH:mm:ss}}
UTC ì‹œê°: {{isotime}}
ìœ ë‹‰ìŠ¤ íƒ€ì„: {{unixtime}}

{{#when::{{time}}::>::22}}
  ëŠ¦ì€ ì‹œê°„ì´ë„¤ìš”. ì‰¬ì‹œëŠ” ê²Œ ì–´ë–¨ê¹Œìš”?
{{/when}}
```

### ì˜ˆì œ 9: ë°°ì—´ ë° ê°ì²´ ì¡°ì‘
```
{{setvar::items::{{makearray::ì‚¬ê³¼::ë°”ë‚˜ë‚˜::ì²´ë¦¬}}}}
ê³¼ì¼ ëª©ë¡: {{join::{{getvar::items}}::, }}
ì²« ë²ˆì§¸ ê³¼ì¼: {{arrayelement::{{getvar::items}}::0}}

{{setvar::user_data::{{makedict::name={{user}}::level=5::hp=100}}}}
í”Œë ˆì´ì–´ ì´ë¦„: {{dictelement::{{getvar::user_data}}::name}}
ë ˆë²¨: {{dictelement::{{getvar::user_data}}::level}}
```

### ì˜ˆì œ 10: ì•”í˜¸í™” ì˜ˆì‹œ
```
ì›ë³¸ ë©”ì‹œì§€: "ë¹„ë°€ ë©”ì‹œì§€"
ì•”í˜¸í™”: {{xor::ë¹„ë°€ ë©”ì‹œì§€}}
ë³µí˜¸í™”: {{xordecrypt::{{xor::ë¹„ë°€ ë©”ì‹œì§€}}}}

ì‹œì € ì•”í˜¸: {{crypt::hello::3}}
```

---

## ì£¼ì˜ì‚¬í•­ ë° íŒ

### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ì¸ì êµ¬ë¶„ì**: í•¨ìˆ˜ ì¸ìëŠ” ë°˜ë“œì‹œ `::`(ë”ë¸” ì½œë¡ )ë¡œ êµ¬ë¶„í•´ì•¼ í•©ë‹ˆë‹¤. `;`(ì„¸ë¯¸ì½œë¡ )ì´ë‚˜ `:`(ë‹¨ì¼ ì½œë¡ )ì€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

2. **íŠ¹ìˆ˜ë¬¸ì ì´ìŠ¤ì¼€ì´í”„**: CBS ë‚´ì—ì„œ íŠ¹ìˆ˜ë¬¸ìë¥¼ í‘œì‹œí•˜ë ¤ë©´ ì´ìŠ¤ì¼€ì´í”„ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:
   ```
   {{bo}}char{{bc}} â†’ {{char}} (ì‹¤ì œ í‘œì‹œ)
   ```

3. **ë³€ìˆ˜ ì‹¤í–‰ ëª¨ë“œ**: `{{setvar}}`, `{{addvar}}` ë“±ì€ `runVar` ëª¨ë“œì¼ ë•Œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì¼ë¶€ ì»¨í…ìŠ¤íŠ¸ì—ì„œëŠ” ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. **ë°°ì—´/ê°ì²´ í˜•ì‹**: ë°°ì—´ê³¼ ê°ì²´ëŠ” ë°˜ë“œì‹œ ì˜¬ë°”ë¥¸ JSON í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤:
   ```
   ì˜¬ë°”ë¦„: ["a","b","c"]
   ì˜ëª»ë¨: ['a','b','c']
   ```

5. **ì¡°ê±´ë¬¸ ê³µë°±**: `{{#when}}` ë¸”ë¡ ë‚´ì—ì„œ ê³µë°±ì´ ìë™ìœ¼ë¡œ ì œê±°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³µë°±ì„ ìœ ì§€í•˜ë ¤ë©´ `::keep::` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

### ğŸ’¡ íŒ

1. **ë””ë²„ê¹…**: ë³€ìˆ˜ ê°’ì„ í™•ì¸í•˜ë ¤ë©´ ê·¸ëƒ¥ ì¶œë ¥í•´ë³´ì„¸ìš”:
   ```
   ë””ë²„ê·¸: í˜„ì¬ counter = {{getvar::counter}}
   ```

2. **ì¡°ê±´ë¬¸ ì¤‘ì²©**: ë³µì¡í•œ ë¡œì§ì—ëŠ” ì¡°ê±´ë¬¸ì„ ì¤‘ì²©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **pick vs random**: ì¼ê´€ëœ ê²°ê³¼ê°€ í•„ìš”í•˜ë©´ `{{pick}}`ì„, ë§¤ë²ˆ ë‹¤ë¥¸ ê²°ê³¼ê°€ í•„ìš”í•˜ë©´ `{{random}}`ì„ ì‚¬ìš©í•˜ì„¸ìš”.

4. **ë©”íƒ€ë°ì´í„° í™œìš©**: `{{metadata}}`ë¡œ ë‹¤ì–‘í•œ ì‹œìŠ¤í…œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
   ```
   {{metadata::imateapot}} â†’ ğŸ«–
   ```

5. **ì„±ëŠ¥**: ë³µì¡í•œ CBSëŠ” ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.

---

## ë²„ì „ ì •ë³´

ì´ ë¬¸ì„œëŠ” RisuAIì˜ `src/ts/cbs.ts` íŒŒì¼ (2482ì¤„)ì„ ì§ì ‘ ë¶„ì„í•˜ì—¬ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

- **ë¶„ì„ ë‚ ì§œ**: 2026-01-07
- **ì´ CBS í•¨ìˆ˜ ìˆ˜**: 150ê°œ ì´ìƒ
- **ì¹´í…Œê³ ë¦¬**: 19ê°œ

---

## ì°¸ê³ 

- RisuAI GitHub: https://github.com/kwaroran/RisuAI
- ê³µì‹ í”ŒëŸ¬ê·¸ì¸ ë¬¸ì„œ: `plugins.md`
- ì—ì´ì „íŠ¸ ë¬¸ì„œ: `AGENTS.md`

---

**ë¬¸ì„œ ì‘ì„±**: AI Analysis (ì§ì ‘ ì½”ë“œ íƒìƒ‰)  
**ë¼ì´ì„ ìŠ¤**: RisuAI í”„ë¡œì íŠ¸ ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦„
